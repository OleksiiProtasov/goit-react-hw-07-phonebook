(this["webpackJsonpgoit-react-hw-07-phonebook"]=this["webpackJsonpgoit-react-hw-07-phonebook"]||[]).push([[0],{17:function(t,e,n){t.exports={TaskList:"style_TaskList__10G4Q",TaskList_item:"style_TaskList_item__2u9OJ",completed:"style_completed__28byK",TaskList_text:"style_TaskList_text__34rub",TaskList_actions:"style_TaskList_actions__1ASDK",TaskList_button:"style_TaskList_button__2xPKn"}},32:function(t,e,n){t.exports={Container:"style_Container__vfjpI",button:"style_button__1CHPq",active:"style_active__1-CZV",disabled:"style_disabled__rmeeH",title:"style_title__2j8BK"}},34:function(t,e,n){t.exports={input:"style_input__1q9Jb"}},40:function(t,e,n){},7:function(t,e,n){t.exports={TaskEditor:"style_TaskEditor__ks75t",TaskEditor_label:"style_TaskEditor_label__Dc2CA",TaskEditor_input:"style_TaskEditor_input__3YWxO",TaskEditorinput:"style_TaskEditorinput__kbXDv",TaskEditor_button:"style_TaskEditor_button__G7l0G"}},74:function(t,e,n){"use strict";n.r(e);var c,a,r,s,o=n(0),i=n.n(o),u=n(13),b=n.n(u),l=(n(40),n(6)),j=n(2),d=n(9),O=n(22),_=n(3),f=n(5),p=Object(j.b)("contacts/fetchContactsRequest"),m=Object(j.b)("contacts/fetchContactsSuccess"),h=Object(j.b)("contacts/fetchContactsError"),k=Object(j.b)("contacts/addContactRequest"),x=Object(j.b)("contacts/addContactSuccess"),v=Object(j.b)("contacts/addContactError"),y=Object(j.b)("contacts/deleteContactRequest"),T=Object(j.b)("contacts/deleteContactSuccess"),C=Object(j.b)("contacts/deleteContactError"),E=Object(j.b)("contacts/changeFilter"),g=Object(j.c)([],(c={},Object(_.a)(c,m,(function(t,e){return e.payload})),Object(_.a)(c,x,(function(t,e){var n=e.payload;return console.log(n),n})),Object(_.a)(c,T,(function(t,e){return e.payload})),c)),L=Object(j.c)(!1,(a={},Object(_.a)(a,p,(function(){return!0})),Object(_.a)(a,h,(function(){return!1})),Object(_.a)(a,m,(function(){return!1})),a)),N=Object(j.c)(!1,(r={},Object(_.a)(r,k,(function(){return!0})),Object(_.a)(r,x,(function(){return!1})),Object(_.a)(r,v,(function(){return!1})),r)),w=Object(j.c)(!1,(s={},Object(_.a)(s,y,(function(){return!0})),Object(_.a)(s,T,(function(){return!1})),Object(_.a)(s,C,(function(){return!1})),s)),S=Object(j.c)({},Object(_.a)({},E,(function(t,e){var n=e.payload;return Object(O.a)(Object(O.a)({},t),{},Object(_.a)({},n.name,n.value))}))),q=Object(j.c)(null,{}),D=Object(f.b)({items:g,filter:S,loading:L,adding:N,error:q,removeContact:w}),F=Object(j.a)({reducer:{contacts:D},middleware:[d.a],devTools:!1}),J=n(32),K=n.n(J),R=n(1),A=function(t){var e=t.children;return Object(R.jsx)("div",{className:K.a.Container,children:e})},G=n(23),P=n(7),U=n.n(P),B=n(33),H=n.n(B),I=n(35),M=n(8),Q=n.n(M),V=n(16),W=n(11),X=n.n(W);X.a.defaults.baseURL="http://localhost:3000";function Y(){var t=Object(l.b)(),e=Object(l.c)((function(t){return t.contacts.items})),n=Object(o.useState)(""),c=Object(G.a)(n,2),a=c[0],r=c[1],s=Object(o.useState)(""),i=Object(G.a)(s,2),u=i[0],b=i[1],j=function(t){var e=t.currentTarget,n=e.name,c=e.value;switch(n){case"name":r(c);break;case"number":b(c);break;default:return}};return Object(R.jsxs)("form",{className:U.a.TaskEditor,onSubmit:function(n){n.preventDefault();var c,s=e.find((function(t){return t.name.toUpperCase()===a.toUpperCase()}));s?alert("".concat(s.name," is already in contacts.")):0!==a.length&&0!==u.length?(t((c={id:H.a.generate(),name:a,number:u},function(){var t=Object(V.a)(Q.a.mark((function t(e,n){var a,r;return Q.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e(k()),a=n(),r=a.contacts,t.prev=2,t.next=5,X.a.post("/contacts",c);case 5:e(x([].concat(Object(I.a)(r.items),[c]))),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(2),e(v(t.t0));case 11:case"end":return t.stop()}}),t,null,[[2,8]])})));return function(e,n){return t.apply(this,arguments)}}())),r(""),b("")):alert("Fields must be filled!")},children:[Object(R.jsxs)("label",{className:U.a.TaskEditor_label,children:["Name",Object(R.jsx)("input",{className:U.a.TaskEditor_input,type:"text",name:"name",value:a,onChange:j})]}),Object(R.jsxs)("label",{className:U.a.TaskEditor_label,children:["Number",Object(R.jsx)("input",{className:U.a.TaskEditor_input,type:"text",name:"number",value:u,onChange:j})]}),Object(R.jsx)("button",{className:U.a.TaskEditor_button,type:"submit",children:"Add contact"})]})}var Z=n(34),z=n.n(Z),$=function(){var t=Object(l.b)();return Object(R.jsxs)("label",{children:["Find contacts by name",Object(R.jsx)("input",{className:z.a.input,type:"text",name:"filter",onChange:function(e){return t(E({name:"name",value:e.target.value}))}})]})},tt=n(14),et=n(17),nt=n.n(et),ct=Object(tt.a)((function(t){return t.contacts.items}),(function(t){return t})),at=function(){var t=Object(l.b)(),e=function(e){return t(function(t){return function(){var e=Object(V.a)(Q.a.mark((function e(n,c){var a,r;return Q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n(y()),a=c(),r=a.contacts,e.prev=2,e.next=5,X.a.delete("/contacts/".concat(t));case 5:n(T(r.items.filter((function(e){return e.id!==t})))),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(2),n(C(e.t0));case 11:case"end":return e.stop()}}),e,null,[[2,8]])})));return function(t,n){return e.apply(this,arguments)}}()}(e))},n=Object(l.c)(ct),c=Object(l.c)((function(t){return t.contacts.filter}));return Object(o.useEffect)((function(){t((c.name,function(){var t=Object(V.a)(Q.a.mark((function t(e,n){var c,a,r,s,o;return Q.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e(p()),t.prev=1,c=n(),a=c.contacts,r={},a.filter.name&&(r.name_like="^".concat(a.filter.name)),t.next=7,X.a.get("/contacts",{params:r});case 7:s=t.sent,o=s.data,e(m(o)),t.next=15;break;case 12:t.prev=12,t.t0=t.catch(1),e(h(t.t0));case 15:case"end":return t.stop()}}),t,null,[[1,12]])})));return function(e,n){return t.apply(this,arguments)}}()))}),[t,c.name]),Object(R.jsx)("ul",{className:nt.a.TaskList,children:n.map((function(t){var n=t.name,c=t.id,a=t.number;return Object(R.jsxs)("li",{className:nt.a.TaskList_item,children:[n+" : "+a,Object(R.jsx)("button",{className:nt.a.TaskList_button,type:"button",name:"delete",onClick:function(){return e(c)},children:"delete"})]},c)}))})};function rt(){return Object(R.jsx)(R.Fragment,{children:Object(R.jsxs)(A,{children:[Object(R.jsx)("h1",{children:"Phonebook"}),Object(R.jsx)(Y,{}),Object(R.jsx)("h2",{children:"Contacts"}),Object(R.jsx)($,{}),Object(R.jsx)(at,{})]})})}b.a.render(Object(R.jsx)(i.a.StrictMode,{children:Object(R.jsx)(l.a,{store:F,children:Object(R.jsx)(rt,{})})}),document.getElementById("root"))}},[[74,1,2]]]);
//# sourceMappingURL=main.7b665461.chunk.js.map