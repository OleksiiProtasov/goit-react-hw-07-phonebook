(this["webpackJsonpgoit-react-hw-07-phonebook"]=this["webpackJsonpgoit-react-hw-07-phonebook"]||[]).push([[0],{15:function(t,e,n){t.exports={TaskList:"style_TaskList__10G4Q",TaskList_item:"style_TaskList_item__2u9OJ",completed:"style_completed__28byK",TaskList_text:"style_TaskList_text__34rub",TaskList_actions:"style_TaskList_actions__1ASDK",TaskList_button:"style_TaskList_button__2xPKn"}},30:function(t,e,n){t.exports={Container:"style_Container__vfjpI",button:"style_button__1CHPq",active:"style_active__1-CZV",disabled:"style_disabled__rmeeH",title:"style_title__2j8BK"}},32:function(t,e,n){t.exports={input:"style_input__1q9Jb"}},37:function(t,e,n){},7:function(t,e,n){t.exports={TaskEditor:"style_TaskEditor__ks75t",TaskEditor_label:"style_TaskEditor_label__Dc2CA",TaskEditor_input:"style_TaskEditor_input__3YWxO",TaskEditorinput:"style_TaskEditorinput__kbXDv",TaskEditor_button:"style_TaskEditor_button__G7l0G"}},71:function(t,e,n){"use strict";n.r(e);var c,a,r,s=n(0),o=n.n(s),i=n(12),u=n.n(i),b=(n(37),n(6)),l=n(2),j=n(9),d=n(20),f=n(3),O=n(5),_=Object(l.b)("contacts/fetchContactsRequest"),p=Object(l.b)("contacts/fetchContactsSuccess"),m=Object(l.b)("contacts/fetchContactsError"),h=Object(l.b)("contacts/addContactRequest"),k=Object(l.b)("contacts/addContactSuccess"),x=Object(l.b)("contacts/addContactError"),v=Object(l.b)("contacts/deleteContactRequest"),y=Object(l.b)("contacts/deleteContactSuccess"),T=Object(l.b)("contacts/deleteContactError"),C=Object(l.b)("contacts/changeFilter"),E=Object(l.c)([],Object(f.a)({},p,(function(t,e){return e.payload}))),g=Object(l.c)(!1,(c={},Object(f.a)(c,_,(function(){return!0})),Object(f.a)(c,m,(function(){return!1})),Object(f.a)(c,p,(function(){return!1})),c)),L=Object(l.c)(!1,(a={},Object(f.a)(a,h,(function(){return!0})),Object(f.a)(a,k,(function(){return!1})),Object(f.a)(a,x,(function(){return!1})),a)),N=Object(l.c)(!1,(r={},Object(f.a)(r,v,(function(){return!0})),Object(f.a)(r,y,(function(){return!1})),Object(f.a)(r,T,(function(){return!1})),r)),w=Object(l.c)({},Object(f.a)({},C,(function(t,e){var n=e.payload;return Object(d.a)(Object(d.a)({},t),{},Object(f.a)({},n.name,n.value))}))),S=Object(l.c)(null,{}),q=Object(O.b)({items:E,filter:w,loading:g,adding:L,error:S,removeContact:N}),D=Object(l.a)({reducer:{contacts:q},middleware:[j.a],devTools:!1}),F=n(30),J=n.n(F),K=n(1),R=function(t){var e=t.children;return Object(K.jsx)("div",{className:J.a.Container,children:e})},A=n(21),G=n(7),P=n.n(G),U=n(31),B=n.n(U),H=n(8),I=n.n(H),M=n(14),Q=n(10),V=n.n(Q);V.a.defaults.baseURL="http://localhost:3000";var W=function(){return function(){var t=Object(M.a)(I.a.mark((function t(e,n){var c,a,r,s,o;return I.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e(_()),t.prev=1,c=n(),a=c.contacts,r={},a.filter.name&&(r.name_like="^".concat(a.filter.name)),t.next=7,V.a.get("/contacts",{params:r});case 7:s=t.sent,o=s.data,e(p(o)),t.next=15;break;case 12:t.prev=12,t.t0=t.catch(1),e(m(t.t0));case 15:case"end":return t.stop()}}),t,null,[[1,12]])})));return function(e,n){return t.apply(this,arguments)}}()};function X(){var t=Object(b.b)(),e=Object(b.c)((function(t){return t.contacts.items})),n=Object(b.c)((function(t){return t.contacts.filter})),c=Object(s.useState)(""),a=Object(A.a)(c,2),r=a[0],o=a[1],i=Object(s.useState)(""),u=Object(A.a)(i,2),l=u[0],j=u[1];Object(s.useEffect)((function(){t(W())}),[t,n.name]);var d=function(t){var e=t.currentTarget,n=e.name,c=e.value;switch(n){case"name":o(c);break;case"number":j(c);break;default:return}};return Object(K.jsxs)("form",{className:P.a.TaskEditor,onSubmit:function(n){n.preventDefault();var c,a=e.find((function(t){return t.name.toUpperCase()===r.toUpperCase()}));a?alert("".concat(a.name," is already in contacts.")):0!==r.length&&0!==l.length?(t((c={id:B.a.generate(),name:r,number:l},function(){var t=Object(M.a)(I.a.mark((function t(e){return I.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e(h()),t.prev=1,t.next=4,V.a.post("/contacts",c);case 4:e(W()),e(k()),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),e(x(t.t0));case 11:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e){return t.apply(this,arguments)}}())),o(""),j("")):alert("Fields must be filled!")},children:[Object(K.jsxs)("label",{className:P.a.TaskEditor_label,children:["Name",Object(K.jsx)("input",{className:P.a.TaskEditor_input,type:"text",name:"name",value:r,onChange:d})]}),Object(K.jsxs)("label",{className:P.a.TaskEditor_label,children:["Number",Object(K.jsx)("input",{className:P.a.TaskEditor_input,type:"text",name:"number",value:l,onChange:d})]}),Object(K.jsx)("button",{className:P.a.TaskEditor_button,type:"submit",children:"Add contact"})]})}var Y=n(32),Z=n.n(Y),z=function(){var t=Object(b.b)();return Object(K.jsxs)("label",{children:["Find contacts by name",Object(K.jsx)("input",{className:Z.a.input,type:"text",name:"filter",onChange:function(e){return t(C({name:"name",value:e.target.value}))}})]})},$=n(13),tt=n(15),et=n.n(tt),nt=Object($.a)((function(t){return t.contacts.items}),(function(t){return t})),ct=function(){var t=Object(b.b)(),e=function(e){return t(function(t){return function(){var e=Object(M.a)(I.a.mark((function e(n){return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n(v()),e.prev=1,e.next=4,V.a.delete("/contacts/".concat(t));case 4:n(W()),n(y()),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),n(T(e.t0));case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}()}(e))},n=Object(b.c)(nt),c=Object(b.c)((function(t){return t.contacts.filter}));return Object(s.useEffect)((function(){t(W(c.name))}),[t,c.name]),Object(K.jsx)("ul",{className:et.a.TaskList,children:n.map((function(t){var n=t.name,c=t.id,a=t.number;return Object(K.jsxs)("li",{className:et.a.TaskList_item,children:[n+" : "+a,Object(K.jsx)("button",{className:et.a.TaskList_button,type:"button",name:"delete",onClick:function(){return e(c)},children:"delete"})]},c)}))})};function at(){return Object(K.jsx)(K.Fragment,{children:Object(K.jsxs)(R,{children:[Object(K.jsx)("h1",{children:"Phonebook"}),Object(K.jsx)(X,{}),Object(K.jsx)("h2",{children:"Contacts"}),Object(K.jsx)(z,{}),Object(K.jsx)(ct,{})]})})}u.a.render(Object(K.jsx)(o.a.StrictMode,{children:Object(K.jsx)(b.a,{store:D,children:Object(K.jsx)(at,{})})}),document.getElementById("root"))}},[[71,1,2]]]);
//# sourceMappingURL=main.e5b3f55d.chunk.js.map