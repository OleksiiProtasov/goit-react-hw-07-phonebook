{"version":3,"sources":["Components/Phonebook/style.module.css","Components/Container/style.module.css","Components/filter/style.module.css","Components/form/style.module.css","redux/contacts/contacts-actions.js","redux/contacts/contacts-reducer.js","redux/store.js","Components/Container/continer.js","redux/contacts/contacts-operations.js","Components/form/form.js","Components/filter/Filter.js","Components/Phonebook/ContactList.js","App.js","index.js"],"names":["module","exports","fetchContactsRequest","createAction","fetchContactsSuccess","fetchContactsError","addContactRequest","addContactSuccess","addContactError","deleteContactRequest","deleteContactSuccess","deleteContactError","changeFilter","items","createReducer","_","payload","console","log","loading","adding","removeContact","filter","state","name","value","error","combineReducers","store","configureStore","reducer","contacts","contactsReducer","middleware","thunk","devTools","process","Container","children","className","style","axios","defaults","baseURL","Form","dispatch","useDispatch","useSelector","useState","setName","number","setNumber","handleChange","e","currentTarget","styles","TaskEditor","onSubmit","preventDefault","contact","isExitingName","find","toUpperCase","alert","length","id","shortid","generate","getState","a","post","TaskEditor_label","TaskEditor_input","type","onChange","TaskEditor_button","Filter","input","target","selectContacts","createSelector","ContactList","onRemoveContact","delete","deleteContact","useEffect","params","get","data","TaskList","map","TaskList_item","TaskList_button","onClick","App","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"kIACAA,EAAOC,QAAU,CAAC,SAAW,wBAAwB,cAAgB,6BAA6B,UAAY,yBAAyB,cAAgB,6BAA6B,iBAAmB,gCAAgC,gBAAkB,iC,mBCAzPD,EAAOC,QAAU,CAAC,UAAY,yBAAyB,OAAS,sBAAsB,OAAS,sBAAsB,SAAW,wBAAwB,MAAQ,uB,mBCAhKD,EAAOC,QAAU,CAAC,MAAQ,uB,uCCA1BD,EAAOC,QAAU,CAAC,WAAa,0BAA0B,iBAAmB,gCAAgC,iBAAmB,gCAAgC,gBAAkB,+BAA+B,kBAAoB,mC,uICCvNC,EAAuBC,YAClC,iCAEWC,EAAuBD,YAClC,iCAEWE,EAAqBF,YAAa,+BAElCG,EAAoBH,YAAa,8BACjCI,EAAoBJ,YAAa,8BACjCK,EAAkBL,YAAa,4BAE/BM,EAAuBN,YAClC,iCAEWO,EAAuBP,YAClC,iCAEWQ,EAAqBR,YAAa,+BAElCS,EAAeT,YAAa,yBCPnCU,EAAQC,YAAc,IAAD,mBACxBV,GAAuB,SAACW,EAAD,YAAMC,WADL,cAExBT,GAAoB,SAACQ,EAAD,GAAqB,IAAfC,EAAc,EAAdA,QAEzB,OADAC,QAAQC,IAAIF,GACLA,KAJgB,cAMxBN,GAAuB,SAACK,EAAD,YAAMC,WANL,IASrBG,EAAUL,aAAc,GAAD,mBAC1BZ,GAAuB,kBAAM,KADH,cAE1BG,GAAqB,kBAAM,KAFD,cAG1BD,GAAuB,kBAAM,KAHH,IAMvBgB,EAASN,aAAc,GAAD,mBACzBR,GAAoB,kBAAM,KADD,cAEzBC,GAAoB,kBAAM,KAFD,cAGzBC,GAAkB,kBAAM,KAHC,IAMtBa,EAAgBP,aAAc,GAAD,mBAChCL,GAAuB,kBAAM,KADG,cAEhCC,GAAuB,kBAAM,KAFG,cAGhCC,GAAqB,kBAAM,KAHK,IAM7BW,EAASR,YACb,GAD0B,eAGvBF,GAAe,SAACW,EAAD,OAAUP,EAAV,EAAUA,QAAV,mBAAC,eACZO,GADW,kBAEbP,EAAQQ,KAAOR,EAAQS,YAKxBC,EAAQZ,YAAc,KAAM,IAEnBa,cAAgB,CAC7Bd,QACAS,SACAH,UACAC,SACAM,QACAL,kBC/CaO,EARDC,YAAe,CAC3BC,QAAS,CACPC,SAAUC,GAEZC,WAAY,CAACC,KACbC,UAAUC,I,wBCFGC,EAJG,SAAC,GAAD,IAAGC,EAAH,EAAGA,SAAH,OAChB,qBAAKC,UAAWC,IAAMH,UAAtB,SAAkCC,K,0FCQpCG,IAAMC,SAASC,QAAU,wBCJV,SAASC,IACtB,IAAMC,EAAWC,cACXf,EAAWgB,aAAY,SAACxB,GAAD,OAAWA,EAAMQ,SAASlB,SACvD,EAAwBmC,mBAAS,IAAjC,mBAAOxB,EAAP,KAAayB,EAAb,KACA,EAA4BD,mBAAS,IAArC,mBAAOE,EAAP,KAAeC,EAAf,KAEMC,EAAe,SAACC,GACpB,MAAwBA,EAAEC,cAAlB9B,EAAR,EAAQA,KAAMC,EAAd,EAAcA,MAEd,OAAQD,GACN,IAAK,OACHyB,EAAQxB,GACR,MACF,IAAK,SACH0B,EAAU1B,GACV,MACF,QACE,SA2BN,OACE,uBAAMc,UAAWgB,IAAOC,WAAYC,SAxBjB,SAACJ,GACpBA,EAAEK,iBAEF,IDFuBC,ECEjBC,EAAgB7B,EAAS8B,MAC7B,SAACF,GAAD,OAAaA,EAAQnC,KAAKsC,gBAAkBtC,EAAKsC,iBAG/CF,EACFG,MAAM,GAAD,OAAIH,EAAcpC,KAAlB,6BAIa,IAAhBA,EAAKwC,QAAkC,IAAlBd,EAAOc,QAKhCnB,GDhBuBc,ECgBH,CAAEM,GAAIC,IAAQC,WAAY3C,OAAM0B,UDhB9B,uCAAa,WAAOL,EAAUuB,GAAjB,iBAAAC,EAAA,6DACrCxB,EAASvC,KAD4B,EAGhB8D,IAAbrC,EAH6B,EAG7BA,SAH6B,kBAM7BU,IAAM6B,KAAK,YAAaX,GANK,OAOnCd,EAAStC,EAAkB,GAAD,mBAAKwB,EAASlB,OAAd,CAAqB8C,MAPZ,gDASnCd,EAASrC,EAAgB,EAAD,KATW,yDAAb,0DCkBtByC,EAAQ,IACRE,EAAU,KAPRY,MAAM,2BAWR,UACE,wBAAOxB,UAAWgB,IAAOgB,iBAAzB,iBAEE,uBACEhC,UAAWgB,IAAOiB,iBAClBC,KAAK,OACLjD,KAAK,OACLC,MAAOD,EACPkD,SAAUtB,OAGd,wBAAOb,UAAWgB,IAAOgB,iBAAzB,mBAEE,uBACEhC,UAAWgB,IAAOiB,iBAClBC,KAAK,OACLjD,KAAK,SACLC,MAAOyB,EACPwB,SAAUtB,OAGd,wBAAQb,UAAWgB,IAAOoB,kBAAmBF,KAAK,SAAlD,4B,qBCpDSG,EAnBA,WACb,IAAM/B,EAAWC,cAKjB,OACE,0DAEE,uBACEP,UAAWC,IAAMqC,MACjBJ,KAAK,OACLjD,KAAK,SACLkD,SAViB,SAACrB,GAAD,OACrBR,EAASjC,EAAa,CAAEY,KAAM,OAAQC,MAAO4B,EAAEyB,OAAOrD,gB,6BCEpDsD,GAAiBC,cACrB,SAACzD,GAAD,OAAWA,EAAMQ,SAASlB,SAC1B,SAACkB,GAAD,OAAcA,KA4CDkD,GAzCK,WAClB,IAAMpC,EAAWC,cACXoC,EAAkB,SAACjB,GAAD,OAAQpB,EH2BL,SAACoB,GAAD,8CAAQ,WAAOpB,EAAUuB,GAAjB,iBAAAC,EAAA,6DACnCxB,EAASpC,KAD0B,EAGd2D,IAAbrC,EAH2B,EAG3BA,SAH2B,kBAM3BU,IAAM0C,OAAN,oBAA0BlB,IANC,OAOjCpB,EACEnC,EACEqB,EAASlB,MAAMS,QAAO,SAACqC,GAAD,OAAaA,EAAQM,KAAOA,OATrB,gDAajCpB,EAASlC,EAAmB,EAAD,KAbM,yDAAR,wDG3BcyE,CAAcnB,KACjDlC,EAAWgB,YAAYgC,IACvBzD,EAASyB,aAAY,SAACxB,GAAD,OAAWA,EAAMQ,SAAST,UAMrD,OAJA+D,qBAAU,WACRxC,GAAuBvB,EAAOE,KHPL,uCAAM,WAAOqB,EAAUuB,GAAjB,uBAAAC,EAAA,6DACjCxB,EAAS3C,KADwB,WAIVkE,IAAbrC,EAJuB,EAIvBA,SACFuD,EAAS,GACXvD,EAAST,OAAOE,OAAM8D,EAAM,UAAN,WAA0BvD,EAAST,OAAOE,OANrC,SAQRiB,IAAM8C,IAAN,YAAuB,CAAED,WARjB,gBAQvBE,EARuB,EAQvBA,KAER3C,EAASzC,EAAqBoF,IAVC,kDAY/B3C,EAASxC,EAAmB,EAAD,KAZI,0DAAN,4DGQxB,CAACwC,EAAUvB,EAAOE,OAGnB,oBAAIe,UAAWgB,KAAOkC,SAAtB,SACG1D,EAAS2D,KAAI,gBAAGlE,EAAH,EAAGA,KAAMyC,EAAT,EAASA,GAAIf,EAAb,EAAaA,OAAb,OACZ,qBAAIX,UAAWgB,KAAOoC,cAAtB,UACGnE,EAAO,MAAQ0B,EAEd,wBACEX,UAAWgB,KAAOqC,gBAClBnB,KAAK,SACLjD,KAAK,SACLqE,QAAS,kBAAMX,EAAgBjB,IAJjC,sBAHsCA,SCvBnC,SAAS6B,KACtB,OACE,mCACE,eAAC,EAAD,WACE,2CACA,cAAClD,EAAD,IACA,0CACA,cAAC,EAAD,IACA,cAAC,GAAD,SCNRmD,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,IAAD,CAAUrE,MAAOA,EAAjB,SACE,cAACkE,GAAD,QAGJI,SAASC,eAAe,W","file":"static/js/main.7b665461.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"TaskList\":\"style_TaskList__10G4Q\",\"TaskList_item\":\"style_TaskList_item__2u9OJ\",\"completed\":\"style_completed__28byK\",\"TaskList_text\":\"style_TaskList_text__34rub\",\"TaskList_actions\":\"style_TaskList_actions__1ASDK\",\"TaskList_button\":\"style_TaskList_button__2xPKn\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Container\":\"style_Container__vfjpI\",\"button\":\"style_button__1CHPq\",\"active\":\"style_active__1-CZV\",\"disabled\":\"style_disabled__rmeeH\",\"title\":\"style_title__2j8BK\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"input\":\"style_input__1q9Jb\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"TaskEditor\":\"style_TaskEditor__ks75t\",\"TaskEditor_label\":\"style_TaskEditor_label__Dc2CA\",\"TaskEditor_input\":\"style_TaskEditor_input__3YWxO\",\"TaskEditorinput\":\"style_TaskEditorinput__kbXDv\",\"TaskEditor_button\":\"style_TaskEditor_button__G7l0G\"};","import { createAction } from \"@reduxjs/toolkit\";\n\nexport const fetchContactsRequest = createAction(\n  \"contacts/fetchContactsRequest\"\n);\nexport const fetchContactsSuccess = createAction(\n  \"contacts/fetchContactsSuccess\"\n);\nexport const fetchContactsError = createAction(\"contacts/fetchContactsError\");\n\nexport const addContactRequest = createAction(\"contacts/addContactRequest\");\nexport const addContactSuccess = createAction(\"contacts/addContactSuccess\");\nexport const addContactError = createAction(\"contacts/addContactError\");\n\nexport const deleteContactRequest = createAction(\n  \"contacts/deleteContactRequest\"\n);\nexport const deleteContactSuccess = createAction(\n  \"contacts/deleteContactSuccess\"\n);\nexport const deleteContactError = createAction(\"contacts/deleteContactError\");\n\nexport const changeFilter = createAction(\"contacts/changeFilter\");\n","import { combineReducers } from \"redux\";\nimport { createReducer } from \"@reduxjs/toolkit\";\nimport {\n  fetchContactsRequest,\n  fetchContactsSuccess,\n  fetchContactsError,\n  addContactRequest,\n  addContactSuccess,\n  addContactError,\n  deleteContactRequest,\n  deleteContactSuccess,\n  deleteContactError,\n  changeFilter,\n} from \"./contacts-actions\";\n\nconst items = createReducer([], {\n  [fetchContactsSuccess]: (_, { payload }) => payload,\n  [addContactSuccess]: (_, { payload }) => {\n    console.log(payload);\n    return payload;\n  },\n  [deleteContactSuccess]: (_, { payload }) => payload,\n});\n\nconst loading = createReducer(false, {\n  [fetchContactsRequest]: () => true,\n  [fetchContactsError]: () => false,\n  [fetchContactsSuccess]: () => false,\n});\n\nconst adding = createReducer(false, {\n  [addContactRequest]: () => true,\n  [addContactSuccess]: () => false,\n  [addContactError]: () => false,\n});\n\nconst removeContact = createReducer(false, {\n  [deleteContactRequest]: () => true,\n  [deleteContactSuccess]: () => false,\n  [deleteContactError]: () => false,\n});\n\nconst filter = createReducer(\n  {},\n  {\n    [changeFilter]: (state, { payload }) => ({\n      ...state,\n      [payload.name]: payload.value,\n    }),\n  }\n);\n\nconst error = createReducer(null, {});\n\nexport default combineReducers({\n  items,\n  filter,\n  loading,\n  adding,\n  error,\n  removeContact,\n});\n","import { configureStore } from \"@reduxjs/toolkit\";\n// import logger from 'redux-logger';\nimport thunk from \"redux-thunk\";\nimport contactsReducer from \"./contacts/contacts-reducer\";\n\nconst store = configureStore({\n  reducer: {\n    contacts: contactsReducer,\n  },\n  middleware: [thunk],\n  devTools: process.env.NODE_ENV === \"development\",\n});\n\nexport default store;\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport style from \"../Container/style.module.css\";\n\nconst Container = ({ children }) => (\n  <div className={style.Container}>{children}</div>\n);\n\nexport default Container;\n\nContainer.propTypes = {\n  children: PropTypes.arrayOf(PropTypes.element).isRequired,\n};\n","import axios from \"axios\";\nimport {\n  addContactError,\n  addContactRequest,\n  addContactSuccess,\n  fetchContactsError,\n  fetchContactsRequest,\n  fetchContactsSuccess,\n  deleteContactRequest,\n  deleteContactSuccess,\n  deleteContactError,\n} from \"./contacts-actions\";\n\naxios.defaults.baseURL = \"http://localhost:3000\";\n\nexport const fetchContacts = () => async (dispatch, getState) => {\n  dispatch(fetchContactsRequest());\n\n  try {\n    const { contacts } = getState();\n    const params = {};\n    if (contacts.filter.name) params[\"name_like\"] = `^${contacts.filter.name}`;\n\n    const { data } = await axios.get(`/contacts`, { params });\n\n    dispatch(fetchContactsSuccess(data));\n  } catch (error) {\n    dispatch(fetchContactsError(error));\n  }\n};\n\nexport const addContact = (contact) => async (dispatch, getState) => {\n  dispatch(addContactRequest());\n\n  const { contacts } = getState();\n\n  try {\n    await axios.post(\"/contacts\", contact);\n    dispatch(addContactSuccess([...contacts.items, contact]));\n  } catch (error) {\n    dispatch(addContactError(error));\n  }\n};\n\nexport const deleteContact = (id) => async (dispatch, getState) => {\n  dispatch(deleteContactRequest());\n\n  const { contacts } = getState();\n\n  try {\n    await axios.delete(`/contacts/${id}`);\n    dispatch(\n      deleteContactSuccess(\n        contacts.items.filter((contact) => contact.id !== id)\n      )\n    );\n  } catch (error) {\n    dispatch(deleteContactError(error));\n  }\n};\n","import styles from \"./style.module.css\";\nimport { useState } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport shortid from \"shortid\";\nimport {\n  addContact,\n  fetchContacts,\n} from \"../../redux/contacts/contacts-operations\";\n\nexport default function Form() {\n  const dispatch = useDispatch();\n  const contacts = useSelector((state) => state.contacts.items);\n  const [name, setName] = useState(\"\");\n  const [number, setNumber] = useState(\"\");\n\n  const handleChange = (e) => {\n    const { name, value } = e.currentTarget;\n\n    switch (name) {\n      case \"name\":\n        setName(value);\n        break;\n      case \"number\":\n        setNumber(value);\n        break;\n      default:\n        return;\n    }\n  };\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n\n    const isExitingName = contacts.find(\n      (contact) => contact.name.toUpperCase() === name.toUpperCase()\n    );\n\n    if (isExitingName) {\n      alert(`${isExitingName.name} is already in contacts.`);\n      return;\n    }\n\n    if (name.length === 0 || number.length === 0) {\n      alert(\"Fields must be filled!\");\n      return;\n    }\n\n    dispatch(addContact({ id: shortid.generate(), name, number }));\n\n    setName(\"\");\n    setNumber(\"\");\n  };\n\n  return (\n    <form className={styles.TaskEditor} onSubmit={handleSubmit}>\n      <label className={styles.TaskEditor_label}>\n        Name\n        <input\n          className={styles.TaskEditor_input}\n          type=\"text\"\n          name=\"name\"\n          value={name}\n          onChange={handleChange}\n        />\n      </label>\n      <label className={styles.TaskEditor_label}>\n        Number\n        <input\n          className={styles.TaskEditor_input}\n          type=\"text\"\n          name=\"number\"\n          value={number}\n          onChange={handleChange}\n        />\n      </label>\n      <button className={styles.TaskEditor_button} type=\"submit\">\n        Add contact\n      </button>\n    </form>\n  );\n}\n","import style from \"./style.module.css\";\nimport { useDispatch } from \"react-redux\";\nimport { changeFilter } from \"../../redux/contacts/contacts-actions\";\n\nconst Filter = () => {\n  const dispatch = useDispatch();\n\n  const onChangeFilter = (e) =>\n    dispatch(changeFilter({ name: \"name\", value: e.target.value }));\n\n  return (\n    <label>\n      Find contacts by name\n      <input\n        className={style.input}\n        type=\"text\"\n        name=\"filter\"\n        onChange={onChangeFilter}\n      />\n    </label>\n  );\n};\n\nexport default Filter;\n","import { useSelector, useDispatch } from \"react-redux\";\nimport PropTypes from \"prop-types\";\nimport { createSelector } from \"@reduxjs/toolkit\";\nimport {\n  fetchContacts,\n  deleteContact,\n} from \"../../redux/contacts/contacts-operations\";\nimport styles from \"./style.module.css\";\nimport { useEffect } from \"react\";\n\nconst selectContacts = createSelector(\n  (state) => state.contacts.items,\n  (contacts) => contacts\n);\n\nconst ContactList = () => {\n  const dispatch = useDispatch();\n  const onRemoveContact = (id) => dispatch(deleteContact(id));\n  const contacts = useSelector(selectContacts);\n  const filter = useSelector((state) => state.contacts.filter);\n\n  useEffect(() => {\n    dispatch(fetchContacts(filter.name));\n  }, [dispatch, filter.name]);\n\n  return (\n    <ul className={styles.TaskList}>\n      {contacts.map(({ name, id, number }) => (\n        <li className={styles.TaskList_item} key={id}>\n          {name + \" : \" + number}\n          {\n            <button\n              className={styles.TaskList_button}\n              type=\"button\"\n              name=\"delete\"\n              onClick={() => onRemoveContact(id)}\n            >\n              delete\n            </button>\n          }\n        </li>\n      ))}\n    </ul>\n  );\n};\n\nContactList.propTypes = {\n  contacts: PropTypes.arrayOf(\n    PropTypes.shape({\n      id: PropTypes.string.isRequired,\n      name: PropTypes.string.isRequired,\n      number: PropTypes.string.isRequired,\n    })\n  ),\n};\n\nexport default ContactList;\n","import Container from \"./Components/Container\";\nimport Form from \"./Components/form\";\nimport Filter from \"./Components/filter\";\nimport ContactList from \"./Components/Phonebook\";\n\nexport default function App() {\n  return (\n    <>\n      <Container>\n        <h1>Phonebook</h1>\n        <Form />\n        <h2>Contacts</h2>\n        <Filter />\n        <ContactList />\n      </Container>\n    </>\n  );\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport { Provider } from \"react-redux\";\nimport store from \"./redux/store\";\nimport App from \"./App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <Provider store={store}>\n      <App />\n    </Provider>\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}