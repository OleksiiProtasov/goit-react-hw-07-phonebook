{"version":3,"sources":["Components/Phonebook/style.module.css","Components/Container/style.module.css","Components/filter/style.module.css","Components/form/style.module.css","redux/contacts/contacts-actions.js","redux/contacts/contacts-reducer.js","redux/store.js","Components/Container/continer.js","redux/contacts/contacts-operations.js","Components/form/form.js","Components/filter/Filter.js","Components/Phonebook/ContactList.js","App.js","index.js"],"names":["module","exports","fetchContactsRequest","createAction","fetchContactsSuccess","fetchContactsError","addContactRequest","addContactSuccess","addContactError","deleteContactRequest","deleteContactSuccess","deleteContactError","changeFilter","items","createReducer","_","payload","loading","adding","removeContact","filter","state","name","value","error","combineReducers","store","configureStore","reducer","contacts","contactsReducer","middleware","thunk","devTools","process","Container","children","className","style","axios","defaults","baseURL","fetchContacts","dispatch","getState","a","params","get","data","Form","useDispatch","useSelector","useState","setName","number","setNumber","useEffect","handleChange","e","currentTarget","styles","TaskEditor","onSubmit","preventDefault","contact","isExitingName","find","toUpperCase","alert","length","id","shortid","generate","post","TaskEditor_label","TaskEditor_input","type","onChange","TaskEditor_button","Filter","input","target","selectContacts","createSelector","ContactList","onRemoveContact","delete","deleteContact","TaskList","map","TaskList_item","TaskList_button","onClick","App","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.e5b3f55d.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"TaskList\":\"style_TaskList__10G4Q\",\"TaskList_item\":\"style_TaskList_item__2u9OJ\",\"completed\":\"style_completed__28byK\",\"TaskList_text\":\"style_TaskList_text__34rub\",\"TaskList_actions\":\"style_TaskList_actions__1ASDK\",\"TaskList_button\":\"style_TaskList_button__2xPKn\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Container\":\"style_Container__vfjpI\",\"button\":\"style_button__1CHPq\",\"active\":\"style_active__1-CZV\",\"disabled\":\"style_disabled__rmeeH\",\"title\":\"style_title__2j8BK\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"input\":\"style_input__1q9Jb\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"TaskEditor\":\"style_TaskEditor__ks75t\",\"TaskEditor_label\":\"style_TaskEditor_label__Dc2CA\",\"TaskEditor_input\":\"style_TaskEditor_input__3YWxO\",\"TaskEditorinput\":\"style_TaskEditorinput__kbXDv\",\"TaskEditor_button\":\"style_TaskEditor_button__G7l0G\"};","import { createAction } from \"@reduxjs/toolkit\";\n\nexport const fetchContactsRequest = createAction(\n  \"contacts/fetchContactsRequest\"\n);\nexport const fetchContactsSuccess = createAction(\n  \"contacts/fetchContactsSuccess\"\n);\nexport const fetchContactsError = createAction(\"contacts/fetchContactsError\");\n\nexport const addContactRequest = createAction(\"contacts/addContactRequest\");\nexport const addContactSuccess = createAction(\"contacts/addContactSuccess\");\nexport const addContactError = createAction(\"contacts/addContactError\");\n\nexport const deleteContactRequest = createAction(\n  \"contacts/deleteContactRequest\"\n);\nexport const deleteContactSuccess = createAction(\n  \"contacts/deleteContactSuccess\"\n);\nexport const deleteContactError = createAction(\"contacts/deleteContactError\");\n\nexport const changeFilter = createAction(\"contacts/changeFilter\");\n","import { combineReducers } from \"redux\";\nimport { createReducer } from \"@reduxjs/toolkit\";\nimport {\n  fetchContactsRequest,\n  fetchContactsSuccess,\n  fetchContactsError,\n  addContactRequest,\n  addContactSuccess,\n  addContactError,\n  deleteContactRequest,\n  deleteContactSuccess,\n  deleteContactError,\n  changeFilter,\n} from \"./contacts-actions\";\n\nconst items = createReducer([], {\n  [fetchContactsSuccess]: (_, { payload }) => payload,\n});\n\nconst loading = createReducer(false, {\n  [fetchContactsRequest]: () => true,\n  [fetchContactsError]: () => false,\n  [fetchContactsSuccess]: () => false,\n});\n\nconst adding = createReducer(false, {\n  [addContactRequest]: () => true,\n  [addContactSuccess]: () => false,\n  [addContactError]: () => false,\n});\n\nconst removeContact = createReducer(false, {\n  [deleteContactRequest]: () => true,\n  [deleteContactSuccess]: () => false,\n  [deleteContactError]: () => false,\n});\n\nconst filter = createReducer(\n  {},\n  {\n    [changeFilter]: (state, { payload }) => ({\n      ...state,\n      [payload.name]: payload.value,\n    }),\n  }\n);\n\nconst error = createReducer(null, {});\n\nexport default combineReducers({\n  items,\n  filter,\n  loading,\n  adding,\n  error,\n  removeContact,\n});\n","import { configureStore } from \"@reduxjs/toolkit\";\n// import logger from 'redux-logger';\nimport thunk from \"redux-thunk\";\nimport contactsReducer from \"./contacts/contacts-reducer\";\n\nconst store = configureStore({\n  reducer: {\n    contacts: contactsReducer,\n  },\n  middleware: [thunk],\n  devTools: process.env.NODE_ENV === \"development\",\n});\n\nexport default store;\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport style from \"../Container/style.module.css\";\n\nconst Container = ({ children }) => (\n  <div className={style.Container}>{children}</div>\n);\n\nexport default Container;\n\nContainer.propTypes = {\n  children: PropTypes.arrayOf(PropTypes.element).isRequired,\n};\n","import axios from \"axios\";\r\nimport {\r\n  addContactError,\r\n  addContactRequest,\r\n  addContactSuccess,\r\n  fetchContactsError,\r\n  fetchContactsRequest,\r\n  fetchContactsSuccess,\r\n  deleteContactRequest,\r\n  deleteContactSuccess,\r\n  deleteContactError,\r\n} from \"./contacts-actions\";\r\n\r\naxios.defaults.baseURL = \"http://localhost:3000\";\r\n\r\nexport const fetchContacts = () => async (dispatch, getState) => {\r\n  dispatch(fetchContactsRequest());\r\n\r\n  try {\r\n    const { contacts } = getState();\r\n    const params = {};\r\n    if (contacts.filter.name) params[\"name_like\"] = `^${contacts.filter.name}`;\r\n\r\n    const { data } = await axios.get(`/contacts`, { params });\r\n\r\n    dispatch(fetchContactsSuccess(data));\r\n  } catch (error) {\r\n    dispatch(fetchContactsError(error));\r\n  }\r\n};\r\n\r\nexport const addContact = (contact) => async (dispatch) => {\r\n  dispatch(addContactRequest());\r\n\r\n  try {\r\n    await axios.post(\"/contacts\", contact);\r\n    dispatch(fetchContacts());\r\n    dispatch(addContactSuccess());\r\n  } catch (error) {\r\n    dispatch(addContactError(error));\r\n  }\r\n};\r\n\r\nexport const deleteContact = (id) => async (dispatch) => {\r\n  dispatch(deleteContactRequest());\r\n\r\n  try {\r\n    await axios.delete(`/contacts/${id}`);\r\n    dispatch(fetchContacts());\r\n    dispatch(deleteContactSuccess());\r\n  } catch (error) {\r\n    dispatch(deleteContactError(error));\r\n  }\r\n};\r\n","import styles from \"./style.module.css\";\r\nimport { useState , useEffect } from \"react\";\r\nimport { useDispatch , useSelector } from \"react-redux\";\r\nimport shortid from \"shortid\";\r\nimport { addContact , fetchContacts } from \"../../redux/contacts/contacts-operations\";\r\n\r\nexport default function Form() {\r\n  const dispatch = useDispatch();\r\n  const contacts = useSelector(state => state.contacts.items);\r\n  const filter = useSelector(state => state.contacts.filter);\r\n  const [name, setName] = useState(\"\");\r\n  const [number, setNumber] = useState(\"\");\r\n\r\n  useEffect(() => {\r\n    dispatch(fetchContacts())\r\n  }, [dispatch, filter.name])\r\n\r\n  const handleChange = (e) => {\r\n    const { name, value } = e.currentTarget;\r\n\r\n    switch (name) {\r\n      case \"name\":\r\n        setName(value);\r\n        break;\r\n      case \"number\":\r\n        setNumber(value);\r\n        break;\r\n      default:\r\n        return;\r\n    }\r\n  };\r\n\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n\r\n    const isExitingName = contacts.find(contact => (contact.name.toUpperCase() === name.toUpperCase()))\r\n\r\n    if(isExitingName) {\r\n      alert(`${isExitingName.name} is already in contacts.`);\r\n      return;\r\n    }\r\n\r\n    if (name.length === 0 || number.length === 0) {\r\n      alert(\"Fields must be filled!\");\r\n      return;\r\n    }\r\n\r\n    dispatch(addContact({ id: shortid.generate(), name, number }));\r\n\r\n    setName(\"\");\r\n    setNumber(\"\");\r\n  };\r\n\r\n  return (\r\n    <form className={styles.TaskEditor} onSubmit={handleSubmit}>\r\n      <label className={styles.TaskEditor_label}>\r\n        Name\r\n        <input\r\n          className={styles.TaskEditor_input}\r\n          type=\"text\"\r\n          name=\"name\"\r\n          value={name}\r\n          onChange={handleChange}\r\n        />\r\n      </label>\r\n      <label className={styles.TaskEditor_label}>\r\n        Number\r\n        <input\r\n          className={styles.TaskEditor_input}\r\n          type=\"text\"\r\n          name=\"number\"\r\n          value={number}\r\n          onChange={handleChange}\r\n        />\r\n      </label>\r\n      <button className={styles.TaskEditor_button} type=\"submit\">\r\n        Add contact\r\n      </button>\r\n    </form>\r\n  );\r\n}\r\n","import style from \"./style.module.css\";\nimport { useDispatch } from \"react-redux\";\nimport { changeFilter } from \"../../redux/contacts/contacts-actions\";\n\nconst Filter = () => {\n  const dispatch = useDispatch();\n\n  const onChangeFilter = (e) =>\n    dispatch(changeFilter({ name: \"name\", value: e.target.value }));\n\n  return (\n    <label>\n      Find contacts by name\n      <input\n        className={style.input}\n        type=\"text\"\n        name=\"filter\"\n        onChange={onChangeFilter}\n      />\n    </label>\n  );\n};\n\nexport default Filter;\n","import { useSelector, useDispatch } from \"react-redux\";\nimport PropTypes from \"prop-types\";\nimport { createSelector } from \"@reduxjs/toolkit\";\nimport {\n  fetchContacts,\n  deleteContact,\n} from \"../../redux/contacts/contacts-operations\";\nimport styles from \"./style.module.css\";\nimport { useEffect } from \"react\";\n\nconst selectContacts = createSelector(\n  (state) => state.contacts.items,\n  (contacts) => contacts\n);\n\nconst ContactList = () => {\n  const dispatch = useDispatch();\n  const onRemoveContact = (id) => dispatch(deleteContact(id));\n  const contacts = useSelector(selectContacts);\n  const filter = useSelector((state) => state.contacts.filter);\n\n  useEffect(() => {\n    dispatch(fetchContacts(filter.name));\n  }, [dispatch, filter.name]);\n\n  return (\n    <ul className={styles.TaskList}>\n      {contacts.map(({ name, id, number }) => (\n        <li className={styles.TaskList_item} key={id}>\n          {name + \" : \" + number}\n          {\n            <button\n              className={styles.TaskList_button}\n              type=\"button\"\n              name=\"delete\"\n              onClick={() => onRemoveContact(id)}\n            >\n              delete\n            </button>\n          }\n        </li>\n      ))}\n    </ul>\n  );\n};\n\nContactList.propTypes = {\n  contacts: PropTypes.arrayOf(\n    PropTypes.shape({\n      id: PropTypes.string.isRequired,\n      name: PropTypes.string.isRequired,\n      number: PropTypes.string.isRequired,\n    })\n  ),\n};\n\nexport default ContactList;\n","import Container from \"./Components/Container\";\nimport Form from \"./Components/form\";\nimport Filter from \"./Components/filter\";\nimport ContactList from \"./Components/Phonebook\";\n\nexport default function App() {\n  return (\n    <>\n      <Container>\n        <h1>Phonebook</h1>\n        <Form />\n        <h2>Contacts</h2>\n        <Filter />\n        <ContactList />\n      </Container>\n    </>\n  );\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport { Provider } from \"react-redux\";\nimport store from \"./redux/store\";\nimport App from \"./App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <Provider store={store}>\n      <App />\n    </Provider>\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}